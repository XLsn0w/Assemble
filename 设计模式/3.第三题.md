## 3.如何设计一个时长统计框架？


### 记录器

- 页面式记录器
- 流式记录器
- 自定义式


### 记录管理者

- 内存记录缓存
- 磁盘存储
- 上传器



### 如何降低数据的丢失率？
- 定期写入磁盘
- 每当达到某个值的时候，就写入磁盘


### 记录上传的时机

- 前后台切换的时候可以上传
- 从无网到有网切换的时候可以上传

### 上传时机的选择
- 立即上传
- 定时上传 
- 延时上传


